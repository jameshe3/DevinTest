# Rockset 计算架构

## 计算-计算分离架构（Compute-Compute Separation）

Rockset 采用计算-计算分离架构，该架构将用于摄取（ingestion）的计算与用于查询的计算隔离开来，允许它们独立扩展。多个虚拟实例（Virtual Instances）可以访问相同的实时数据集，并且可以根据工作负载的变化快速启动或关闭虚拟实例。

这意味着您可以通过更改虚拟实例的大小或启动新的虚拟实例来高效地扩展 Rockset，同时保证所有虚拟实例之间的数据新鲜度。

### 架构组件

Rockset 的计算架构包括以下主要组件：

1. **流式摄取计算（Streaming ingest compute）**：负责数据摄取和索引构建
2. **查询计算（Query compute）**：负责执行查询操作
3. **共享存储（Shared storage）**：所有计算节点共享的存储层

### 优势

1. **独立扩展**：摄取和查询计算可以根据各自的需求独立扩展
2. **资源隔离**：摄取工作负载不会影响查询性能，反之亦然
3. **灵活性**：可以根据需求快速调整查询计算资源
4. **数据一致性**：所有查询计算节点访问相同的数据，确保一致性
5. **运营简化**：自动化的资源管理减少了运维开销

## 虚拟实例（Virtual Instances）

虚拟实例是 Rockset 中的查询计算单元，可以根据需求进行扩展。每个虚拟实例都可以访问所有数据，并且可以独立扩展以满足不同的查询需求。

### 虚拟实例类型

Rockset 提供不同大小和性能特性的虚拟实例，以满足不同的工作负载需求：

1. **小型实例**：适用于开发和测试环境
2. **中型实例**：适用于生产环境的中等工作负载
3. **大型实例**：适用于高性能需求的生产环境
4. **超大型实例**：适用于极高性能需求的关键应用

### 自动扩展

Rockset 的虚拟实例可以根据工作负载自动扩展，确保在需求增加时提供足够的计算资源，并在需求减少时减少资源使用，从而优化成本。
